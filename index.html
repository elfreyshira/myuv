<!DOCTYPE html>
<html>
<head>
    <title>Myuv: Quick Movie Ratings</title>

    <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans' rel='stylesheet' type='text/css'>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/foundation/5.1.1/css/foundation.min.css" rel='stylesheet' type='text/css'>
    <link href="build/style.css" rel='stylesheet' type='text/css'>

</head>
<body ng-app="myuv" ng-controller="MainController">

    <h1 class='title'>Myuv</h1>
    <div class="row">

        <form ng-submit="fetch()">

            <input type="text" ng-model="query" placeholder="Type movie and submit"></input>
        </form>
    </div>

    <!-- <pre>{{movieSearchResults | json}}</pre> -->

    <!-- <div class="container">
        <p>{{ hello }}</p>
        <p>IMDB: {{imdb}}</p>
        <p>RT: {{rt}}</p>
        <p>TMDB: {{tmdb}}</p>
        <p>Meta: {{meta}}</p>
        <p>IMDB backup: {{imdb_backup}}</p>

    </div> -->

    <div class="row" ng-repeat="movie in movieSearchResults">
        <!-- figure out how to do this for 2nd repeat: 'small-offset-{{6-$parent.movie.sources.length}}': $first -->
        <div class="movie-result large-8 medium-9 small-11 column small-centered medium-centered large-centered">
            
            <div class="movie-ratings row">
                <div ng-repeat="source in movie.sources"
                    class="small-2 columns {{columnOffset(movie.sources.length, $first)}}"
                    ng-class="{'end': $last}"
                    result-bar rating="{{source.rating}}" out-of="{{source.outOf}}">
                    <div class="source-rating-container">
                        <span class="source-rating">{{source.rating}}</span>
                        <span class="source-out-of">
                            {{source.outOf === '%' ?
                                '%' : ('/ ' + source.outOf) }}
                        </span>
                    </div>
                    <span class="source-label">
                        <a ng-href="{{source.link}}">{{source.label}}</a>
                    </span>
                </div>

            </div>
            <div class="row movie-title">{{movie.title}} ({{movie.year}})</div>
        </div>
    </div>

    <div class="row">
        <div class="large-8 medium-10 small-12 column small-centered medium-centered large-centered">
            
            <div class="row movie-ratings">
                <div
                    class="small-2 columns small-offset-1"
                    result-bar rating="100" out-of="%">
                    <!-- hello world -->
                </div>
                <div class="small-2 columns"
                    result-bar rating="76" out-of="100">
                    <!-- hello world -->
                </div>
                <div class="small-2 columns"
                    result-bar rating="50" out-of="%">
                    <!-- hello world -->
                </div>
                <div class="small-2 columns"
                    result-bar rating="3.2" out-of="10">
                    hello world
                </div>
                <!-- <div class="small-2 columns">
                    hello world
                </div> -->
                <div class="small-2 columns end"
                    result-bar rating="0.4" out-of="10">
                hello world
                </div>
            </div>
        </div>
    </div>

    <!-- <p>{{movieSearchResults}}</p> -->
    <script src="build/script.js"></script>
    <!-- 
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular-animate.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="resources/bootstrap-custom/ui-bootstrap-custom-tpls-0.10.0.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/httpServices.js"></script>
    <script src="scripts/utilServices.js"></script>
    <script src="scripts/getServices.js"></script>
    <script src="scripts/resultBar.js"></script>
    <script src="scripts/controllers.js"></script>
     -->
</body>
</html>